<form
    class="class-form"
    [formGroup]="classForm"
>
    <h3 class="class-form__header">{{ formTitle }}</h3>

    <mat-form-field appearance="fill">
        <mat-label>Education format</mat-label>
        <mat-select formControlName="format">
            <mat-option
                *ngFor="let format of educationFormats"
                [value]="format"
            >
                {{ format }}
            </mat-option>
        </mat-select>
        <mat-error>{{ errors['format'] }}</mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill">
        <mat-label>Class type</mat-label>
        <mat-select formControlName="type">
            <mat-option
                *ngFor="let type of classTypes"
                [value]="type"
            >
                {{ type }}
            </mat-option>
        </mat-select>
        <mat-error>{{ errors['type'] }}</mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill">
        <mat-label>Weekday</mat-label>
        <mat-select formControlName="weekDay">
            <mat-option
                *ngFor="let weekDay of weekdays"
                [value]="weekDay"
            >
                {{ weekDay }}
            </mat-option>
        </mat-select>
        <mat-error>{{ errors['weekDay'] }}</mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill">
        <mat-label>Start Time</mat-label>
        <input matInput formControlName="startTime" type="time">
        <mat-error>{{ errors['startTime'] }}</mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill">
        <mat-label>End Time</mat-label>
        <input matInput formControlName="endTime" type="time">
        <mat-error>{{ errors['endTime'] }}</mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill">
        <mat-label>Teacher</mat-label>
        <mat-select formControlName="teacherId">
            <mat-option
                *ngFor="let teacher of teachers$ | async"
                [value]="teacher.id"
            >
                {{ teacher.fullName }}
            </mat-option>
        </mat-select>
        <mat-error>{{ errors['teacherId'] }}</mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill">
        <mat-label>Audience</mat-label>
        <mat-select formControlName="audienceId">
            <mat-option
                *ngFor="let audience of audiences$ | async"
                [value]="audience.id"
            >
                {{ audience.fullNumber }}
            </mat-option>
        </mat-select>
        <mat-error>{{ errors['audienceId'] }}</mat-error>
    </mat-form-field>

    <div class="class-form__buttons">
        <ng-template [ngIf]="isCreateMode" [ngIfElse]="editButtons">
            <button mat-raised-button color="primary">
                <mat-icon>add</mat-icon>
                Create
            </button>
        </ng-template>

        <ng-template #editButtons>
            <button mat-raised-button color="primary" [disabled]="saveDisabled">
                <mat-icon>save</mat-icon>
                Save
            </button>

            <button mat-raised-button color="warn">
                <mat-icon>delete</mat-icon>
                Delete
            </button>
        </ng-template>
    </div>

</form>
